<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<link rel="icon" href="../img/favicon.ico" type="image/x-icon" />
		<title>Java面向对象编程</title>
		<script type="text/javascript" src="../jquery-1.11.1/jquery.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/net5ijy.js" ></script>
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/net5ijy.css" rel="stylesheet" >
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-target="#navbar-nav" data-toggle="collapse">
					<span class="sr-only"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="#" class="navbar-brand">
					<img src="../img/logo.png" width="50" height="50" class="logo" />
				</a>
			</div>
			<div id="navbar-nav" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="index.html">首页</a></li>
					<li class="dropdown active">
						<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
							编程
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="index.html">JAVA</a></li>
							<li><a href="../db/index.html">数据库</a></li>
						</ul>
					</li>
					<li><a href="help.html">帮助</a></li>
				</ul>
			</div>
		</nav>
		
		<div class="container main-container">
			<h4 class="title">第十九节&nbsp;&nbsp;&nbsp;&nbsp;java 和 javac 命令</h4>
			<br />
			
			<ul class="list-unstyled">
				<li><a href="#f1">一、javac 命令</a>
					<ul class="list-unstyled">
						<li><a href="#f1-1">1、	-encoding 选项</a></li>
						<li><a href="#f1-2">2、	-d 选项</a></li>
						<li><a href="#f1-3">3、	-classpath 选项</a></li>
						<li><a href="#f1-4">4、	-verbose 选项</a></li>
						<li><a href="#f1-5">5、	@文件名</a></li>
						<li><a href="#f1-6">6、	绝对路径</a></li>
					</ul>
				</li>
				<li><a href="#f2">二、java 命令</a>
					<ul class="list-unstyled">
						<li><a href="#f2-1">1、	-classpath 选项</a></li>
						<li><a href="#f2-2">2、	-D &lt;名称&gt;=&lt;值&gt;</a></li>
					</ul>
				</li>
			</ul>
			<br />

			<h4 id="f1" class="title-1th">一、javac 命令</h4>

			<h5 id="f1-1" class="title-2th">1、	-encoding 选项</h5>

			<p>
				<code>-encoding &lt;编码&gt;</code>，用于指定源文件的字符编码。
			</p>

			<p>
				这个例子我们使用 quickstart 这个项目，使用 cd 命令到 D:\tmp\java\quickstart 目录下
			</p>

			<pre>
C:\Users\XUGUOFENG>d:

D:\>cd tmp\java\quickstart
</pre>

			<p>
				直接使用 javac 对源代码文件进行编译
			</p>
			<p>
				运行时会发现中文乱码，原因是我们的源代码使用的 UTF-8 编码方式，而默认编码方式是由系统决定的，所以我们需要告知编译器源代码文件使用的编码方式，-encoding 选项做的就是这个工作。
			</p>

			<pre>
D:\tmp\java\quickstart>javac QuickStart.java

D:\tmp\java\quickstart>java QuickStart
浣犲ソ锛孞ava
</pre>

			<p>
				加入 -encoding 选项后进行编译
			</p>

			<pre>
D:\tmp\java\quickstart>del QuickStart.class

D:\tmp\java\quickstart>javac <span class="annotation">-encoding UTF-8</span> QuickStart.java

D:\tmp\java\quickstart>java QuickStart
你好，Java
</pre>

			<h5 id="f1-2" class="title-2th">2、	-d 选项</h5>

			<p>
				<code>-d &lt;目录&gt;</code>，指定生成的类文件存放的位置。
			</p>

			<p>
				这个例子使用 javanote 的项目，我们将对以下文件进行编译
			</p>

			<pre>
javanote\src\org\net5ijy\javanote\product1\ElectronicProduct.java
javanote\src\org\net5ijy\javanote\product1\MobilePhone.java
javanote\src\org\net5ijy\javanote\product1\Computer.java

javanote\src\org\net5ijy\javanote\test\TestElectronicProduct.java
</pre>

			<p>
				首先到该项目下
			</p>

			<pre>
C:\Users\XUGUOFENG>d:

D:\>cd tmp\java\javanote
</pre>

			<p>
				如果不加 -d 参数，会编译到 src 下，并且生成包结构
			</p>

			<pre>
D:\tmp\java\javanote>javac -encoding UTF-8 src\org\net5ijy\javanote\product1\ElectronicProduct.java

D:\tmp\java\javanote>javac -encoding UTF-8 src\org\net5ijy\javanote\product1\MobilePhone.java

D:\tmp\java\javanote>javac -encoding UTF-8 src\org\net5ijy\javanote\product1\Computer.java
</pre>

			<p>
				加 <code>-d .</code> 编译，会把字节码文件编译到当前目录下，并生成对应的包结构，而且可以直接使用类的全限定名运行
			</p>

			<pre>
D:\tmp\java\javanote>javac <span class="annotation">-d .</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\ElectronicProduct.java

D:\tmp\java\javanote>javac <span class="annotation">-d .</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\MobilePhone.java

D:\tmp\java\javanote>javac <span class="annotation">-d .</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\Computer.java
</pre>

			<p>
				加 <code>-d bin\.</code> 编译到bin目录下，因为字节码文件在 bin 目录下，所以需要到 bin 目录下才可以运行程序
			</p>

			<pre>
D:\tmp\java\javanote>md bin

D:\tmp\java\javanote>javac <span class="annotation">-d bin\.</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\ElectronicProduct.java

D:\tmp\java\javanote>javac <span class="annotation">-d bin\.</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\MobilePhone.java

D:\tmp\java\javanote>javac <span class="annotation">-d bin\.</span> -encoding UTF-8 src\org\net5ijy\javanote\product1\Computer.java
</pre>

			<h5 id="f1-3" class="title-2th">3、	-classpath 选项</h5>

			<p>
				<code>-classpath &lt;路径&gt;</code>，指定查找所需类文件的位置。
			</p>
			<p>
				在 2 的基础上编译 javanote\src\org\net5ijy\javanote\test\TestElectronicProduct.java 文件
			</p>

			<pre>
D:\tmp\java\javanote>javac -d bin\. -encoding UTF-8 src\org\net5ijy\javanote\test\TestElectronicProduct.java

src\org\net5ijy\javanote\test\TestElectronicProduct.java:17: 软件包 org.net5ijy.javanote.product1 不存在
                org.net5ijy.javanote.product1.MobilePhone mobile = new org.net5ijy.javanote.product1.MobilePhone();
                                             ^
src\org\net5ijy\javanote\test\TestElectronicProduct.java:17: 软件包 org.net5ijy.javanote.product1 不存在
                org.net5ijy.javanote.product1.MobilePhone mobile = new org.net5ijy.javanote.product1.MobilePhone();
                                                                                                    ^
2 错误
</pre>
			<p>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-sm-12 img-container">
						<img src="../img/java/01019/01019001.jpg" class="img-responsive" />
					</div>
				</div>
			</p>

			<p>
				编译出错，因为该类需要依赖 <code>org.net5ijy.javanote.product1.MobilePhone</code> 类，但是 MobilePhone 类在 bin 目录下的<code>org.net5ijy.javanote.product1</code> 包中，在当前目录下找不到这个类，所以出错。
			</p>

			<p>
				使用 <code>-classpath bin\.</code> 指定依赖的类的寻找目录
			</p>

			<pre>
D:\tmp\java\javanote>javac -d bin\. <span class="annotation">-classpath bin\.</span> -encoding UTF-8 src\org\net5ijy\javanote\test\TestElectronicProduct.java
</pre>

			<h5 id="f1-4" class="title-2th">4、	-verbose 选项</h5>

			<p>
				<code>-verbose</code>，输出有关编译器正在执行的操作的消息
			</p>
			<p>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-sm-12 img-container">
						<img src="../img/java/01019/01019002.jpg" class="img-responsive" />
					</div>
				</div>
			</p>

			<h5 id="f1-5" class="title-2th">5、	@文件名</h5>

			<p>
				如果需要一次编译这四个文件，可以把文件名写到一个文本文件里面，文件名 src.txt 内容如下：
			</p>
			<p>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-sm-12 img-container">
						<img src="../img/java/01019/01019003.jpg" class="img-responsive" />
					</div>
				</div>
			</p>

			<p>
				编译
			</p>
			<pre>
D:\tmp\java\javanote>javac -classpath bin\. -d bin\. -encoding UTF-8 <span class="annotation">@src.txt</span>
</pre>

			<h5 id="f1-6" class="title-2th">6、	绝对路径</h5>

			<p>
				上面例子中的 <code>-classpath</code>、<code>-d</code> 等选项的值和源代码文件都可以使用绝对路径
			</p>

			<p>
				如下：
			</p>
			<pre>
D:\tmp\java\javanote>javac -classpath D:\tmp\java\javanote\bin\. -d D:\tmp\java\javanote\bin\. -encoding UTF-8 @src.txt
</pre>

			<hr />

			<h4 id="f2" class="title-1th">二、java 命令</h4>

			<h5 id="f2-1" class="title-2th">1、	-classpath 选项</h5>

			<p>
				当我们运行的类和依赖的类都在当前目录时，这个选项可以不加。
			</p>

			<p>
				当我们需要使用其他路径的类时，这个选项就必须存在，用于指定类路径，否则会出现找不到类的问题。
			</p>

			<p>
				例如当前目录为 D:\ 下，我想运行 javanote 项目下的 <code>org.net5ijy.javanote.test.TestElectronicProduct</code> 类
			</p>

			<pre>
D:\>java org.net5ijy.javanote.test.TestElectronicProduct
错误: 找不到或无法加载主类 org.net5ijy.javanote.test.TestElectronicProduct
</pre>

			<p>
				添加 <code>-classpath</code> 选项，指定类路径
			</p>

			<pre>
D:\>java -classpath D:\tmp\java\javanote\bin org.net5ijy.javanote.test.TestElectronicProduct
Android
</pre>

			<h5 id="f2-2" class="title-2th">2、	-D &lt;名称&gt;=&lt;值&gt;</h5>

			<p>
				如果我们在 java 命令中使用了如下方式传入了参数，-D 是固定的，后面的变量名和变量值可以任意
			</p>
			<pre>
java <span class="high-light">-DpropertyName=propertyValue</span> 主类
</pre>

			<p>
				然后我们在程序中可以使用 <code>java.lang.System</code> 类的 <code>public static String getProperty(String key)</code> 获取参数变量，传入的参数就是 -D 后面的 <code>propertyName</code> 字符串。后面我们会详细介绍 <code>java.lang.System</code> 类。
			</p>

			<br />

			<a href="java01018.html" style="font-size:12px;">第十八节&nbsp;&nbsp;&nbsp;&nbsp;异常</a>
			<br />
			<a href="java01020.html" style="font-size:12px;">第二十节&nbsp;&nbsp;&nbsp;&nbsp;java 多线程技术（一）</a>

			<br /><br />

			加入 QQ 群：5ijy网站开发交流 <a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=3b6ff2e8f01c493cacf78d8eba9ec6362e85b447be8ed8b895d2da6cd5ae537d"><img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="5ijy网站开发交流" title="5ijy网站开发交流"></a>，获取更多源代码和开发环境配置信息。

		</div>
		
		<div class="footer">
			Copyright © 2017-2020 5ijy工作室.<br />
		</div>

		<div id="CfloatBtn" class="CfloatBtn" onclick="$('html,body').animate({'scrollTop': '0'},100);"></div>
	</body>
</html>
